function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}var o=function(){function e(a,o){t(this,e),this.type=a,this.text=o}return a(e,[{key:"typeis",value:function(t){return this.type===t}}]),e}();o.UNDEFINED=0,o.COMMAND=1,o.NUMBER=2,o.EOD=3;var r=function(){function e(a){t(this,e),null==a&&(a=""),this.setPathData(a)}return a(e,[{key:"setPathData",value:function(t){if("string"!=typeof t)throw new Error("PathLexer.setPathData: The first parameter must be a string");this._pathData=t}},{key:"getNextToken",value:function(){for(var t=null,e=this._pathData;null===t;)if(null===e||""===e)t=new o(o.EOD,"");else if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([AaCcHhLlMmQqSsTtVvZz])/))t=new o(o.COMMAND,RegExp.$1),e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?\d+(\.\d*)?|[-+]?\.\d+)([eE][-+]?\d+)?)/))throw new Error("PathLexer.getNextToken: unrecognized path data "+e);t=new o(o.NUMBER,parseFloat(RegExp.$1)),e=e.substr(RegExp.$1.length)}return this._pathData=e,t}}]),e}(),l=function(){function e(){t(this,e),this._lexer=new r,this._handler=null}return a(e,[{key:"parseData",value:function(t){if("string"!=typeof t)throw new Error("PathParser.parseData: The first parameter must be a string");null!==this._handler&&"function"==typeof this._handler.beginParse&&this._handler.beginParse();var a=this._lexer;a.setPathData(t);for(var r="BOP",l=a.getNextToken();!1===l.typeis(o.EOD);){var c=void 0,n=[];switch(l.type){case o.COMMAND:if("BOP"===r&&"M"!==l.text&&"m"!==l.text)throw new Error("PathParser.parseData: a path must begin with a moveto command");r=l.text,c=e.PARAMCOUNT[l.text.toUpperCase()],l=a.getNextToken();break;case o.NUMBER:break;default:throw new Error("PathParser.parseData: unrecognized token type: "+l.type)}for(var i=0;i<c;i++){switch(l.type){case o.COMMAND:throw new Error("PathParser.parseData: parameter must be a number: "+l.text);case o.NUMBER:n[i]=parseFloat(l.text);break;default:throw new Error("PathParser.parseData: unrecognized token type: "+l.type)}l=a.getNextToken()}if(null!==this._handler){var u=this._handler,s=e.METHODNAME[r];"a"!==r&&"A"!==r||(n[3]=0!==n[3],n[4]=0!==n[4]),null!==u&&"function"==typeof u[s]&&u[s].apply(u,n)}switch(r){case"M":r="L";break;case"m":r="l"}}null!==this._handler&&"function"==typeof this._handler.endParse&&this._handler.endParse()}},{key:"setHandler",value:function(t){this._handler=t}}]),e}();function c(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),o=1;o<e;o++)a[o-1]=arguments[o];console.log("".concat(t,"(").concat(a.join(","),")"))}l.PARAMCOUNT={A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},l.METHODNAME={A:"arcAbs",a:"arcRel",C:"curvetoCubicAbs",c:"curvetoCubicRel",H:"linetoHorizontalAbs",h:"linetoHorizontalRel",L:"linetoAbs",l:"linetoRel",M:"movetoAbs",m:"movetoRel",Q:"curvetoQuadraticAbs",q:"curvetoQuadraticRel",S:"curvetoCubicSmoothAbs",s:"curvetoCubicSmoothRel",T:"curvetoQuadraticSmoothAbs",t:"curvetoQuadraticSmoothRel",V:"linetoVerticalAbs",v:"linetoVerticalRel",Z:"closePath",z:"closePath"};var n=function(){function e(){t(this,e)}return a(e,[{key:"arcAbs",value:function(t,e,a,o,r,l,n){c.apply(void 0,["arcAbs"].concat(Array.prototype.slice.call(arguments)))}},{key:"arcRel",value:function(t,e,a,o,r,l,n){c.apply(void 0,["arcRel"].concat(Array.prototype.slice.call(arguments)))}},{key:"curvetoCubicAbs",value:function(t,e,a,o,r,l){c.apply(void 0,["curvetoCubicAbs"].concat(Array.prototype.slice.call(arguments)))}},{key:"curvetoCubicRel",value:function(t,e,a,o,r,l){c.apply(void 0,["curvetoCubicRel"].concat(Array.prototype.slice.call(arguments)))}},{key:"linetoHorizontalAbs",value:function(t){c.apply(void 0,["linetoHorizontalAbs"].concat(Array.prototype.slice.call(arguments)))}},{key:"linetoHorizontalRel",value:function(t){c.apply(void 0,["linetoHorizontalRel"].concat(Array.prototype.slice.call(arguments)))}},{key:"linetoAbs",value:function(t,e){c.apply(void 0,["linetoAbs"].concat(Array.prototype.slice.call(arguments)))}},{key:"linetoRel",value:function(t,e){c.apply(void 0,["linetoRel"].concat(Array.prototype.slice.call(arguments)))}},{key:"movetoAbs",value:function(t,e){c.apply(void 0,["movetoAbs"].concat(Array.prototype.slice.call(arguments)))}},{key:"movetoRel",value:function(t,e){c.apply(void 0,["movetoRel"].concat(Array.prototype.slice.call(arguments)))}},{key:"curvetoQuadraticAbs",value:function(t,e,a,o){c.apply(void 0,["curvetoQuadraticAbs"].concat(Array.prototype.slice.call(arguments)))}},{key:"curvetoQuadraticRel",value:function(t,e,a,o){c.apply(void 0,["curvetoQuadraticRel"].concat(Array.prototype.slice.call(arguments)))}},{key:"curvetoCubicSmoothAbs",value:function(t,e,a,o){c.apply(void 0,["curvetoCubicSmoothAbs"].concat(Array.prototype.slice.call(arguments)))}},{key:"curvetoCubicSmoothRel",value:function(t,e,a,o){c.apply(void 0,["curvetoCubicSmoothRel"].concat(Array.prototype.slice.call(arguments)))}},{key:"curvetoQuadraticSmoothAbs",value:function(t,e){c.apply(void 0,["curvetoQuadraticSmoothAbs"].concat(Array.prototype.slice.call(arguments)))}},{key:"curvetoQuadraticSmoothRel",value:function(t,e){c.apply(void 0,["curvetoQuadraticSmoothRel"].concat(Array.prototype.slice.call(arguments)))}},{key:"linetoVerticalAbs",value:function(t){c.apply(void 0,["linetoVerticalAbs"].concat(Array.prototype.slice.call(arguments)))}},{key:"linetoVerticalRel",value:function(t){c.apply(void 0,["linetoVerticalRel"].concat(Array.prototype.slice.call(arguments)))}},{key:"closePath",value:function(){c.apply(void 0,["closePath"].concat(Array.prototype.slice.call(arguments)))}}]),e}();export{r as PathLexer,l as PathParser,n as SampleHandler};
//# sourceMappingURL=index-esm.min.js.map
